# ğŸ¾ ãƒšãƒƒãƒˆãŠã‚„ã¤ãƒ‡ã‚£ã‚¹ãƒšãƒ³ã‚µãƒ¼ã‚¢ãƒ—ãƒª

<div align="center">

iOS Ã— ESP32 Ã— Firebase ã§å®Ÿç¾ã™ã‚‹ã€ã‚¹ãƒãƒ¼ãƒˆãƒšãƒƒãƒˆãƒ•ã‚£ãƒ¼ãƒ€ãƒ¼

[![Swift](https://img.shields.io/badge/Swift-5.9-orange.svg)](https://swift.org)
[![iOS](https://img.shields.io/badge/iOS-15.0+-blue.svg)](https://developer.apple.com/ios/)
[![Firebase](https://img.shields.io/badge/Firebase-Realtime_Database-yellow.svg)](https://firebase.google.com/)
[![License](https://img.shields.io/badge/License-Private-red.svg)]()

</div>

---

## ğŸ“– æ¦‚è¦

ã“ã®ã‚¢ãƒ—ãƒªã¯ã€iPhoneã‹ã‚‰Wi-FiçµŒç”±ã§ãƒšãƒƒãƒˆç”¨ãŠã‚„ã¤ãƒ‡ã‚£ã‚¹ãƒšãƒ³ã‚µãƒ¼ï¼ˆESP32æ­è¼‰ï¼‰ã‚’æ“ä½œã—ã€ã‚«ãƒ¡ãƒ©æ˜ åƒã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç¢ºèªã§ãã‚‹ã‚¹ãƒãƒ¼ãƒˆãƒšãƒƒãƒˆãƒ•ã‚£ãƒ¼ãƒ€ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚å¤–å‡ºå…ˆã‹ã‚‰ã§ã‚‚æ„›ã™ã‚‹ãƒšãƒƒãƒˆã«ãŠã‚„ã¤ã‚’ã‚ã’ã‚‰ã‚Œã¾ã™ã€‚

### âœ¨ ä¸»ãªæ©Ÿèƒ½

- ğŸ¯ **ãƒ¯ãƒ³ã‚¿ãƒƒãƒ—ã§ãŠã‚„ã¤é…çµ¦**: ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã ã‘ã§é éš”æ“ä½œ
- ğŸ“¹ **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚«ãƒ¡ãƒ©æ˜ åƒ**: ãƒšãƒƒãƒˆã®æ§˜å­ã‚’å¸¸ã«ç¢ºèª
- â˜ï¸ **Firebaseé€£æº**: ã‚¯ãƒ©ã‚¦ãƒ‰çµŒç”±ã§ç¢ºå®Ÿã«é€šä¿¡
- ğŸ”” **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º**: ãƒ‡ã‚£ã‚¹ãƒšãƒ³ã‚µãƒ¼ã®å‹•ä½œçŠ¶æ³ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º
- âš ï¸ **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: æ¥ç¶šã‚¨ãƒ©ãƒ¼ã‚„å‹•ä½œã‚¨ãƒ©ãƒ¼ã‚’é©åˆ‡ã«é€šçŸ¥

---

## ğŸ¬ ãƒ‡ãƒ¢

### ã‚¢ãƒ—ãƒªç”»é¢æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ãƒšãƒƒãƒˆãŠã‚„ã¤ãƒ‡ã‚£ã‚¹ãƒšãƒ³ã‚µãƒ¼      â”‚ â† ãƒ˜ãƒƒãƒ€ãƒ¼
â”‚       å¾…æ©Ÿä¸­ / å‹•ä½œä¸­          â”‚ â† ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚     ğŸ“¹ ã‚«ãƒ¡ãƒ©æ˜ åƒ             â”‚
â”‚    ï¼ˆç”»é¢ã®60%ï¼‰              â”‚
â”‚                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš ï¸ ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆå¿…è¦æ™‚ï¼‰  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ¾ ãŠã‚„ã¤ã‚’å‡ºã™     â”‚    â”‚ â† CTAãƒœã‚¿ãƒ³
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              â”‚         â”‚              â”‚         â”‚              â”‚
â”‚   iPhone     â”‚ â—„â”€â”€â”€â”€â”€â–º â”‚   Firebase   â”‚ â—„â”€â”€â”€â”€â”€â–º â”‚    ESP32     â”‚
â”‚   (iOS App)  â”‚  WiFi   â”‚   Realtime   â”‚  WiFi   â”‚  + Servo     â”‚
â”‚              â”‚         â”‚   Database   â”‚         â”‚   Motor      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                                  â”‚
       â”‚                                                  â”‚
       â–¼                                                  â–¼
  ã‚«ãƒ¡ãƒ©æ˜ åƒè¡¨ç¤º                                    ãŠã‚„ã¤ã‚’é…çµ¦
  ãƒœã‚¿ãƒ³æ“ä½œ                                        ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹é€ä¿¡
```

---

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
SnackDispenser/
â”œâ”€â”€ SnackDispenserApp.swift      # ã‚¢ãƒ—ãƒªã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚                                 # FirebaseåˆæœŸåŒ–ã‚’å®Ÿè¡Œ
â”‚
â”œâ”€â”€ ContentView.swift             # ãƒ¡ã‚¤ãƒ³ç”»é¢UI
â”‚                                 # ã‚«ãƒ¡ãƒ©è¡¨ç¤º + ãƒœã‚¿ãƒ³ + ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
â”‚
â”œâ”€â”€ FirebaseManager.swift         # Firebase Realtime Databaseç®¡ç†
â”‚                                 # - ãŠã‚„ã¤é…çµ¦æŒ‡ç¤ºã®é€ä¿¡
â”‚                                 # - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç›£è¦–
â”‚                                 # - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
â”‚
â”œâ”€â”€ CameraView.swift              # ã‚«ãƒ¡ãƒ©æ˜ åƒè¡¨ç¤º
â”‚                                 # AVCaptureSessionã‚’ä½¿ç”¨
â”‚                                 # ã‚«ãƒ¡ãƒ©ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ç®¡ç†
â”‚
â””â”€â”€ GoogleService-Info.plist      # Firebaseè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
```

---

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### å¿…è¦ãªç’°å¢ƒ

- **macOS**: Ventura (13.0) ä»¥é™
- **Xcode**: 15.0 ä»¥é™
- **iOS**: 15.0 ä»¥é™ï¼ˆå®Ÿæ©Ÿæ¨å¥¨ï¼‰
- **Firebase**: ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
- **ESP32**: Wi-Fiå¯¾å¿œãƒã‚¤ã‚³ãƒ³ + ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ãƒ¼

### 1ï¸âƒ£ ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
cd ~/Documents/xcode
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯æ—¢ã«å­˜åœ¨ã—ã¦ã„ã‚‹å‰æ
```

### 2ï¸âƒ£ Xcodeã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ã

```bash
open SnackDispenser/SnackDispenser.xcodeproj
```

### 3ï¸âƒ£ Firebase SDKã®è¿½åŠ 

1. Xcodeä¸Šéƒ¨ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ **File** â†’ **Add Package Dependencies...**
2. æ¤œç´¢æ¬„ã«ä»¥ä¸‹ã®URLã‚’å…¥åŠ›:
   ```
   https://github.com/firebase/firebase-ios-sdk
   ```
3. **Dependency Rule**: "Up to Next Major Version" `10.0.0` ã‚’é¸æŠ
4. **Add to Project**: `SnackDispenser` ã‚’é¸æŠ
5. ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¦ **Add Package**:
   - âœ… **FirebaseCore**
   - âœ… **FirebaseDatabase**

### 4ï¸âƒ£ ã‚«ãƒ¡ãƒ©ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã®è¨­å®šç¢ºèª

1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒŠãƒ“ã‚²ãƒ¼ã‚¿ãƒ¼ã§ **SnackDispenser**ï¼ˆé’ã„ã‚¢ã‚¤ã‚³ãƒ³ï¼‰ã‚’ã‚¯ãƒªãƒƒã‚¯
2. **TARGETS** â†’ **SnackDispenser** ã‚’é¸æŠ
3. **Info** ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯
4. **Information Property List** ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ä»¥ä¸‹ã‚’ç¢ºèª:
   ```
   Key:   Privacy - Camera Usage Description
   Type:  String
   Value: ãƒšãƒƒãƒˆã®æ§˜å­ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ã‚«ãƒ¡ãƒ©ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
   ```

ã™ã§ã«è¨­å®šæ¸ˆã¿ãªã®ã§ã€ç¢ºèªã®ã¿ã§OKã§ã™ï¼

### 5ï¸âƒ£ Firebase Realtime Databaseã®è¨­å®š

#### A. Firebaseã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã®è¨­å®š

1. [Firebase Console](https://console.firebase.google.com/) ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ **snackdispenser-abe3f** ã‚’é¸æŠ
3. å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ **Realtime Database** ã‚’ã‚¯ãƒªãƒƒã‚¯
4. **ãƒ«ãƒ¼ãƒ«** ã‚¿ãƒ–ã‚’é¸æŠ
5. ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã‚’è¨­å®šï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰:

```json
{
  "rules": {
    "pet": {
      "snackdispenser": {
        ".read": true,
        ".write": true
      }
    }
  }
}
```

âš ï¸ **æ³¨æ„**: æœ¬ç•ªç’°å¢ƒã§ã¯èªè¨¼ã‚’è¿½åŠ ã—ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ã‚’å³æ ¼åŒ–ã—ã¦ãã ã•ã„ã€‚

#### B. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ 

Firebaseã«ã¯ä»¥ä¸‹ã®æ§‹é€ ã§ãƒ‡ãƒ¼ã‚¿ãŒä¿å­˜ã•ã‚Œã¾ã™:

```json
{
  "pet": {
    "snackdispenser": {
      "command": "dispense",      // ã‚¢ãƒ—ãƒªã‹ã‚‰é€ä¿¡
      "status": "waiting"         // ESP32ã‹ã‚‰é€ä¿¡
    }
  }
}
```

**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®ç¨®é¡**:
- `"waiting"` - å¾…æ©Ÿä¸­
- `"dispensing"` - ãŠã‚„ã¤ã‚’å‡ºã—ã¦ã„ã‚‹æœ€ä¸­
- `"done"` - å®Œäº†
- `"error"` - ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ

---

## ğŸ”§ ESP32å´ã®å®Ÿè£…

### å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒª

- [Firebase ESP32](https://github.com/mobizt/Firebase-ESP32)
- [ESP32Servo](https://github.com/madhephaestus/ESP32Servo)

### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

å®Œå…¨ãªå®Ÿè£…ã¯ `SnackDispenser.ino` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚ä¸»è¦ãªå‡¦ç†ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™:

```cpp
#include <WiFi.h>
#include <FirebaseESP32.h>
#include <Servo.h>

// Wi-Fiè¨­å®š
const char* ssid = "your_SSID";
const char* password = "your_PASSWORD";

// Firebaseè¨­å®š
#define FIREBASE_HOST "snackdispenser-abe3f-default-rtdb.firebaseio.com"
#define FIREBASE_AUTH ""  // ãƒ†ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ã®å ´åˆã¯ç©ºæ–‡å­—åˆ—

void checkFirebaseData() {
  if (Firebase.getString(firebaseData, "/pet/snackdispenser/command")) {
    String action = firebaseData.stringData();
    
    if (action == "dispense") {
      // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°: å‹•ä½œä¸­
      Firebase.setString(firebaseData, "/pet/snackdispenser/status", "dispensing");
      
      // ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ãƒ¼ã§ãŠã‚„ã¤ã‚’é…çµ¦
      controlServo(90);
      delay(2000);
      controlServo(0);
      
      // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°: å®Œäº†
      Firebase.setString(firebaseData, "/pet/snackdispenser/status", "done");
      
      // ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚¯ãƒªã‚¢
      Firebase.setString(firebaseData, "/pet/snackdispenser/command", "");
      
      // å¾…æ©ŸçŠ¶æ…‹ã«æˆ»ã‚‹
      delay(2000);
      Firebase.setString(firebaseData, "/pet/snackdispenser/status", "waiting");
    }
  }
}
```

---

## ğŸ“± ä½¿ã„æ–¹

### åˆå›èµ·å‹•

1. **ã‚¢ãƒ—ãƒªã‚’èµ·å‹•**
2. ã‚«ãƒ¡ãƒ©ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹
3. **ã€Œè¨±å¯ã€** ã‚’ã‚¿ãƒƒãƒ—
4. ã‚«ãƒ¡ãƒ©æ˜ åƒãŒè¡¨ç¤ºã•ã‚Œã‚‹

### ãŠã‚„ã¤ã‚’å‡ºã™

1. ç”»é¢ä¸‹éƒ¨ã® **ã€ŒğŸ¾ ãŠã‚„ã¤ã‚’å‡ºã™ã€** ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—
2. ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ **ã€ŒãŠã‚„ã¤ã‚’æº–å‚™ä¸­...ã€** ã«å¤‰åŒ–
3. ESP32ãŒFirebaseã®å¤‰æ›´ã‚’æ¤œçŸ¥
4. ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ãƒ¼ãŒå‹•ä½œã—ã¦ãŠã‚„ã¤ã‚’é…çµ¦
5. ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ **ã€Œå®Œäº†ã—ã¾ã—ãŸï¼ã€** ã«å¤‰åŒ–
6. æ•°ç§’å¾Œã« **ã€Œå¾…æ©Ÿä¸­ã€** ã«æˆ»ã‚‹

### ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º

ãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ†ã«ç¾åœ¨ã®çŠ¶æ…‹ãŒè¡¨ç¤ºã•ã‚Œã¾ã™:

- ğŸŸ¢ **å¾…æ©Ÿä¸­** - æ¬¡ã®æŒ‡ç¤ºã‚’å¾…ã£ã¦ã„ã‚‹çŠ¶æ…‹
- ğŸŸ¡ **ãŠã‚„ã¤ã‚’æº–å‚™ä¸­...** - ã‚¢ãƒ—ãƒªã‹ã‚‰æŒ‡ç¤ºã‚’é€ä¿¡ã—ãŸç›´å¾Œ
- ğŸ”µ **ãŠã‚„ã¤ã‚’å‡ºã—ã¦ã„ã¾ã™...** - ESP32ãŒå‹•ä½œä¸­
- âœ… **å®Œäº†ã—ã¾ã—ãŸï¼** - ãŠã‚„ã¤ã®é…çµ¦ãŒå®Œäº†
- ğŸ”´ **ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ** - ä½•ã‚‰ã‹ã®å•é¡ŒãŒç™ºç”Ÿ

---

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### âŒ ã‚«ãƒ¡ãƒ©ãŒè¡¨ç¤ºã•ã‚Œãªã„

**åŸå› **: ã‚«ãƒ¡ãƒ©ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒæ‹’å¦ã•ã‚Œã¦ã„ã‚‹

**è§£æ±ºæ–¹æ³•**:
1. iPhoneã® **è¨­å®š** ã‚¢ãƒ—ãƒªã‚’é–‹ã
2. **ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£** â†’ **ã‚«ãƒ¡ãƒ©** ã‚’ã‚¿ãƒƒãƒ—
3. **SnackDispenser** ã‚’æ¢ã—ã¦ã‚ªãƒ³ã«ã™ã‚‹
4. ã‚¢ãƒ—ãƒªã‚’å†èµ·å‹•

---

### âŒ Firebaseã«æ¥ç¶šã§ããªã„

**åŸå› **: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®å•é¡Œã€ã¾ãŸã¯Firebaseã®è¨­å®šãƒŸã‚¹

**è§£æ±ºæ–¹æ³•**:
1. **Wi-Fiæ¥ç¶šã‚’ç¢ºèª**:
   - iPhoneãŒWi-Fiã«æ¥ç¶šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
   - ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«æ¥ç¶šã§ãã‚‹ã‹ç¢ºèª

2. **Firebaseè¨­å®šã‚’ç¢ºèª**:
   - `GoogleService-Info.plist` ãŒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å«ã¾ã‚Œã¦ã„ã‚‹ã‹
   - Firebase Consoleã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã‹

3. **Xcodeã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ãƒ­ã‚°ã‚’ç¢ºèª**:
   ```
   Firebase configured successfully
   ```
   ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºã¦ã„ã‚Œã°OK

---

### âŒ ãƒ‡ã‚£ã‚¹ãƒšãƒ³ã‚µãƒ¼ãŒå‹•ä½œã—ãªã„

**åŸå› **: ESP32ãŒFirebaseã«æ¥ç¶šã—ã¦ã„ãªã„ã€ã¾ãŸã¯ã‚³ãƒ¼ãƒ‰ã®å•é¡Œ

**è§£æ±ºæ–¹æ³•**:
1. **ESP32ã®ã‚·ãƒªã‚¢ãƒ«ãƒ¢ãƒ‹ã‚¿ã‚’ç¢ºèª**:
   ```
   WiFi Connected
   Initial status set to 'waiting'
   Received 'dispense' command
   ```

2. **Firebase Consoleã§ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèª**:
   - `/pet/snackdispenser/command` ã« `"dispense"` ãŒæ›¸ãè¾¼ã¾ã‚Œã¦ã„ã‚‹ã‹
   - `/pet/snackdispenser/status` ãŒæ›´æ–°ã•ã‚Œã¦ã„ã‚‹ã‹

3. **Wi-Fiè¨­å®šã‚’ç¢ºèª**:
   - ESP32ã®SSID/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ã„ã‹
   - ESP32ãŒWi-Fiã«æ¥ç¶šã§ãã¦ã„ã‚‹ã‹

4. **ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ãƒ¼ã®é…ç·šã‚’ç¢ºèª**:
   - ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ãƒ¼ãŒGPIO 13ã«æ¥ç¶šã•ã‚Œã¦ã„ã‚‹ã‹
   - é›»æºãŒä¾›çµ¦ã•ã‚Œã¦ã„ã‚‹ã‹

---

### âŒ ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

**`Type 'CameraView' does not conform to protocol 'UIViewRepresentable'`**

â†’ ä¿®æ­£æ¸ˆã¿ï¼ˆ`UIViewControllerRepresentable` ã«å¤‰æ›´æ¸ˆã¿ï¼‰

**`The default Firebase app has not yet been configured`**

â†’ ä¿®æ­£æ¸ˆã¿ï¼ˆ`AppDelegate` ã§åˆæœŸåŒ–æ¸ˆã¿ï¼‰

---

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«ã¤ã„ã¦

### âš ï¸ ç¾åœ¨ã®è¨­å®šï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰

```json
{
  "rules": {
    "pet": {
      "snackdispenser": {
        ".read": true,   // èª°ã§ã‚‚èª­ã¿å–ã‚Šå¯èƒ½
        ".write": true   // èª°ã§ã‚‚æ›¸ãè¾¼ã¿å¯èƒ½
      }
    }
  }
}
```

### âœ… æœ¬ç•ªç’°å¢ƒã§ã®æ¨å¥¨è¨­å®š

Firebase Authenticationã‚’å°å…¥ã—ã€èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã«ã—ã¦ãã ã•ã„:

```json
{
  "rules": {
    "pet": {
      "snackdispenser": {
        ".read": "auth != null",
        ".write": "auth != null"
      }
    }
  }
}
```

---

## ğŸ¯ ä»Šå¾Œã®æ”¹å–„æ¡ˆ

- [ ] **ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼**: Firebase Authenticationã§ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–
- [ ] **ãŠã‚„ã¤å±¥æ­´**: é…çµ¦å±¥æ­´ã‚’è¨˜éŒ²ã—ã¦è¡¨ç¤º
- [ ] **ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æ©Ÿèƒ½**: å®šæœŸçš„ã«è‡ªå‹•ã§ãŠã‚„ã¤ã‚’é…çµ¦
- [ ] **ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥**: é…çµ¦å®Œäº†æ™‚ã«é€šçŸ¥
- [ ] **è¤‡æ•°ãƒ‡ãƒã‚¤ã‚¹å¯¾å¿œ**: è¤‡æ•°ã®ãƒ‡ã‚£ã‚¹ãƒšãƒ³ã‚µãƒ¼ã‚’ç®¡ç†
- [ ] **ãŠã‚„ã¤æ®‹é‡è¡¨ç¤º**: ã‚»ãƒ³ã‚µãƒ¼ã§æ®‹é‡ã‚’æ¤œçŸ¥
- [ ] **å‹•ç”»éŒ²ç”»**: é…çµ¦æ™‚ã®æ§˜å­ã‚’éŒ²ç”»
- [ ] **çµ±è¨ˆè¡¨ç¤º**: 1æ—¥/é€±/æœˆã®é…çµ¦å›æ•°ã‚’ã‚°ãƒ©ãƒ•åŒ–

---

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯å€‹äººåˆ©ç”¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚

---

## ğŸ‘¤ ä½œæˆè€…

**ç«¹å†…éŸ³ç¢§**

---

## ğŸ™ è¬è¾

- [Firebase](https://firebase.google.com/) - ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- [ESP32](https://www.espressif.com/en/products/socs/esp32) - Wi-Fiãƒã‚¤ã‚³ãƒ³
- [Apple](https://developer.apple.com/) - iOSé–‹ç™ºç’°å¢ƒ

---

<div align="center">

Made with â¤ï¸ for Pets

</div>

